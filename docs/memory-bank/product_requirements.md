# 产品需求文档 (PRD) - 中学生综合在线教育平台
**版本**: v2.0 (Platform Upgrade) | **状态**: Draft | **日期**: 2025-12-09

## 1. 项目概述
本项目旨在为初中生（7-9年级）构建一个集“学、练、测、评、交”于一体的综合性在线教育平台。通过系统化的课程学习、智能化的题库练习、游戏化的成长体系，提升学习效率与趣味性。

### 1.1 核心价值
- **一站式学习**: 从观看课程视频到课后练习，闭环完成。
- **数据驱动**: 多维度分析学习薄弱点，提供针对性提升建议。
- **社区互动**: 打破孤独感，通过同伴交流和良性竞争激发动力。

---

## 2. 用户角色

| 角色 | 权限描述 |
| :--- | :--- |
| **学生 (Student)** | 核心用户。可进行课程学习、刷题、社区发帖、查看个人成长数据。 |
| **管理员 (Admin)** | 运营人员。负责课程上传、题目录入、社区内容审核、用户管理。 |
| **访客 (Guest)** | 仅限浏览首页及部分试听课程，需注册转化。 |

---

## 3. 功能需求详解 (六大核心模块)

### 3.1 🔐 用户系统 (User System)
- **注册/登录**: 支持手机号验证码、邮箱、密码登录。
- **个人档案**: 头像、昵称、年级、教材版本设置（影响推荐内容）。
- **权限控制**: 基于角色的访问控制 (RBAC)，保障管理后台安全。

### 3.2 📺 课程学习 (Course Learning)
- **六大学科体系**: 覆盖初中语、数、英、物、化、生。
- **结构化目录**: 学科 -> 版本 -> 年级 -> 章节 -> 课时 (视频/文档/习题)。
- **学习体验**:
    - **视频播放**: 支持倍速、断点续播、全屏。
    - **进度追踪**: 自动记录每个课时的学习进度 (0-100%)。
    - **资料下载**: 配套讲义 PDF 下载。

### 3.3 📝 题库练习 (Question Bank)
- **智能组卷**: 支持“章节练习”、“模拟考试”、“错题重练”模式。
- **答题交互**:
    - 客观题 (单/多/判): 自动批改，即时反馈。
    - 主观题 (填/简): 显示参考答案与解析 (后期引入 AI 批改)。
    - **公式支持**: 完美渲染 LaTeX 数学/物理公式。
- **错题本**: 自动收集错题，支持按“掌握程度”筛选复习。

### 3.4 📊 学习统计 (Learning Stats)
- **仪表盘**: 展示今日学习时长、刷题数、坚持天数。
- **能力雷达**: 基于答题正确率，动态生成各学科能力雷达图。
- **知识图谱**: 细粒度展示每个章节的掌握度 (红/黄/绿颜色标记)。
- **趋势分析**: 过去 7 天/30 天的学习曲线。

### 3.5 💬 讨论社区 (Community)
- **板块分类**: 按学科或话题 (如“难题求助”、“经验分享”) 分类。
- **互动机制**: 发帖、富文本编辑、评论、点赞、收藏。
- **内容安全**: 敏感词过滤 + 举报机制。

### 3.6 🏆 成长系统 (Growth System)
- **等级体系**: 通过学习/刷题获取 XP (经验值)，提升等级 (LV1-LV100)。
- **成就徽章**: 达成特定条件解锁 (如“连续打卡30天”、“数学满分”)。
- **排行榜**:
    - **勤奋榜**: 按学习时长排名 (周/月)。
    - **学霸榜**: 按刷题正确率/积分排名。

---

## 4. 数据字典 (Data Schema Draft)

参考核心业务实体，预定义以下数据模型 (Prisma Schema 依据):

- **User**: 用户基础表 (id, email, role, level, xp)
- **Profile**: 用户详细资料 (grade, school, avatar)
- **Course/Chapter/Lesson**: 课程内容树 (video_url, doc_url)
- **Question/Option**: 题目库 (content, difficulty, type)
- **LearningRecord**: 课程学习进度 (lesson_id, progress, last_pos)
- **ExamRecord**: 答题记录 (score, answer_detail)
- **Post/Comment**: 社区内容
- **Achievement/UserBadge**: 成就与关联

---

## 5. 非功能性需求 (NFR)
- **性能**: 视频起播时间 < 1s，题目加载 < 500ms。
- **兼容性**: 适配 PC (1920x1080) 及主流平板分辨率。
- **安全**: 视频防盗链 (Signed URL)，API 防刷。
- **数据一致性**: 学习进度多端实时同步。


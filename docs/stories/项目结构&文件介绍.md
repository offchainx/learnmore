# Learn More v1.0 é¡¹ç›®ç»“æ„ä¸æ–‡ä»¶ä»‹ç»

æœ¬æ–‡æ¡£æ—¨åœ¨æä¾›é¡¹ç›®æ–‡ä»¶ç»“æ„çš„å…¨é¢æ¦‚è§ˆï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿç†è§£å„ä¸ªç›®å½•å’Œæ–‡ä»¶çš„ç”¨é€”ã€‚

## æ ¹ç›®å½•

*   **`package.json`**: é¡¹ç›®çš„ npm é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ä¾èµ–åˆ—è¡¨ã€è„šæœ¬å‘½ä»¤ï¼ˆå¦‚ `dev`, `build`, `lint`ï¼‰å’Œé¡¹ç›®å…ƒæ•°æ®ã€‚
*   **`tsconfig.json`**: TypeScript ç¼–è¯‘é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº† TS ç¼–è¯‘é€‰é¡¹å’Œè·¯å¾„åˆ«åï¼ˆå¦‚ `@/*` æŒ‡å‘ `src/*`ï¼‰ã€‚
*   **`next.config.ts`**: Next.js æ¡†æ¶çš„é…ç½®æ–‡ä»¶ï¼Œç”¨äºå®šåˆ¶è·¯ç”±ã€å›¾ç‰‡ä¼˜åŒ–ã€ç¯å¢ƒå˜é‡ç­‰ã€‚
*   **`tailwind.config.ts`**: Tailwind CSS é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸»é¢˜ã€æ’ä»¶å’Œå†…å®¹æ‰«æè·¯å¾„ã€‚
*   **`postcss.config.mjs`**: PostCSS é…ç½®æ–‡ä»¶ï¼Œé…åˆ Tailwind CSS ä½¿ç”¨ã€‚
*   **`vitest.config.ts`**: Vitest æµ‹è¯•æ¡†æ¶é…ç½®æ–‡ä»¶ï¼Œç”¨äºå•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•ã€‚
*   **`eslint.config.mjs`**: ESLint ä»£ç æ£€æŸ¥é…ç½®æ–‡ä»¶ï¼Œå®šä¹‰ä»£ç é£æ ¼è§„åˆ™ã€‚
*   **`middleware.ts`**: Next.js å…¨å±€ä¸­é—´ä»¶ (å¿…é¡»åœ¨æ ¹ç›®å½•)ï¼Œå¤„ç†è·¯ç”±ä¿æŠ¤ã€Auth Cookie ç®¡ç†ã€ç”¨æˆ·ä¼šè¯åˆ·æ–°ã€‚è¯¦è§ä¸‹æ–¹ä¸“é—¨ç« èŠ‚ã€‚
*   **`CLAUDE.md` / `gemini.md`**: AI åŠ©æ‰‹çš„ä¸Šä¸‹æ–‡é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«é¡¹ç›®è§„èŒƒã€å¸¸ç”¨å‘½ä»¤å’Œè®°å¿†åº“å¼•ç”¨ã€‚
*   **`README.md`**: é¡¹ç›®çš„å…¥å£æ–‡æ¡£ï¼Œé€šå¸¸åŒ…å«é¡¹ç›®ç®€ä»‹ã€å®‰è£…æ­¥éª¤å’Œå¿«é€Ÿå¼€å§‹æŒ‡å—ã€‚
*   **`components.json`**: shadcn/ui é…ç½®æ–‡ä»¶ï¼Œç”¨äºç®¡ç† UI ç»„ä»¶åº“çš„è®¾ç½®ã€‚
*   **`.env.example`**: ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶ï¼Œåˆ—å‡ºäº†é¡¹ç›®è¿è¡Œæ‰€éœ€çš„å¿…è¦ç¯å¢ƒå˜é‡ã€‚

## `src/` (æºä»£ç ç›®å½•)

è¿™æ˜¯é¡¹ç›®çš„æ ¸å¿ƒä»£ç ç›®å½•ï¼ŒåŒ…å«æ‰€æœ‰å‰ç«¯é¡µé¢ã€åç«¯é€»è¾‘ã€ç»„ä»¶å’Œå·¥å…·å‡½æ•°ã€‚

### `src/app/` (Next.js App Router)
åŸºäºæ–‡ä»¶ç³»ç»Ÿçš„è·¯ç”±ç›®å½•ã€‚

#### å½“å‰é¡¹ç›®é¡µé¢åˆ—è¡¨ (åŸºäº `src/app` ç›®å½•ç»“æ„)

1.  **è¥é”€ä¸å…¬å…±é¡µé¢ (Marketing & Public Pages)**
    *   **ä¸»é¡µ (Landing Page)**: `/` (`src/app/page.tsx`)
    *   **å·¥ä½œåŸç† (How It Works)**: `/how-it-works` (`src/app/how-it-works/page.tsx`)
    *   **è¯¾ç¨‹ä½“ç³» (Subjects)**: `/subjects` (`src/app/subjects/page.tsx`)
    *   **ä»·æ ¼æ–¹æ¡ˆ (Pricing)**: `/pricing` (`src/app/pricing/page.tsx`)
    *   **å…³äºæˆ‘ä»¬ (About Us)**: `/about-us` (`src/app/about-us/page.tsx`)
    *   **æˆåŠŸæ¡ˆä¾‹ (Success Stories)**: `/success-stories` (`src/app/success-stories/page.tsx`)
    *   **åšå®¢/èµ„è®¯ (Blog)**: `/blog` (`src/app/blog/page.tsx`)
    *   **å­¦ä¹ æŒ‡å— (Study Guides)**: `/study-guides` (`src/app/study-guides/page.tsx`)
    *   **å­¦ç”Ÿå…³æ€€ (Student Care)**: `/student-care` (`src/app/student-care/page.tsx`)
    *   **è”ç³»æˆ‘ä»¬ (Contact)**: `/contact` (`src/app/contact/page.tsx`)
    *   **éšç§æ”¿ç­– (Privacy)**: `/privacy` (`src/app/privacy/page.tsx`)
    *   **æœåŠ¡æ¡æ¬¾ (Terms)**: `/terms` (`src/app/terms/page.tsx`)
    *   **æœªæ‰¾åˆ°é¡µé¢ (Not Found)**: `/_not-found` (Next.js é»˜è®¤)

2.  **è®¤è¯ç›¸å…³é¡µé¢ (Authentication Pages)**
    *   **ç™»å½• (Login)**: `/login` (`src/app/(auth)/login/page.tsx`)
    *   **æ³¨å†Œ (Register)**: `/register` (`src/app/(auth)/register/page.tsx`)

3.  **ç”¨æˆ·ä»ªè¡¨ç›˜é¡µé¢ (User Dashboard Pages)**
    *   **ä»ªè¡¨ç›˜ä¸»é¡µ (Dashboard Home)**: `/dashboard` (`src/app/(dashboard)/dashboard/page.tsx`)
    *   **ç¤¾åŒº (Community)**: `/dashboard/community` (`src/app/(dashboard)/dashboard/community/page.tsx`)
    *   **ç¤¾åŒºå¸–å­è¯¦æƒ… (Community Post Detail)**: `/dashboard/community/[postId]` (`src/app/(dashboard)/dashboard/community/[postId]/page.tsx`)
    *   **åˆ›å»ºç¤¾åŒºå¸–å­ (Create Community Post)**: `/dashboard/community/new` (`src/app/(dashboard)/dashboard/community/new/page.tsx`)
    *   **æ’è¡Œæ¦œ (Leaderboard)**: `/dashboard/leaderboard` (`src/app/(dashboard)/dashboard/leaderboard/page.tsx`)
    *   **ç»ƒä¹ ä¸­å¿ƒ (Practice Center)**: `/dashboard/practice` (`src/app/(dashboard)/dashboard/practice/` - æ­£åœ¨å¼€å‘ä¸­)
    *   **è®¾ç½® (Settings)**: `/dashboard/settings` (`src/app/(dashboard)/dashboard/settings/page.tsx`)

4.  **è¯¾ç¨‹ç›¸å…³é¡µé¢ (Course Pages)**
    *   **è¯¾ç¨‹è¯¦æƒ… (Course Detail)**: `/course/[subjectId]` (`src/app/course/[subjectId]/page.tsx`)
    *   **è¯¾ç¨‹å­¦ä¹  (Lesson View)**: `/course/[subjectId]/[lessonId]` (`src/app/course/[subjectId]/[lessonId]/page.tsx`)

5.  **é”™é¢˜æœ¬é¡µé¢ (Error Book Page)**
    *   **é”™é¢˜æœ¬ (Error Book)**: `/error-book` (`src/app/error-book/page.tsx`)

æ€»è®¡ï¼š**23 ä¸ªé¡µé¢**ã€‚

*   **`layout.tsx`**: å…¨å±€æ ¹å¸ƒå±€æ–‡ä»¶ï¼ŒåŒ…å« `html` å’Œ `body` æ ‡ç­¾ï¼Œä»¥åŠå…¨å±€ Providersã€‚
*   **`page.tsx`**: é¡¹ç›®é¦–é¡µï¼ˆLanding Pageï¼‰ã€‚
*   **`globals.css`**: å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œå¼•å…¥äº† Tailwind æŒ‡ä»¤ã€‚
*   **`(auth)/`**: è®¤è¯ç›¸å…³è·¯ç”±ç»„ï¼ˆè·¯ç”±è·¯å¾„ä¸­ä¸åŒ…å« `(auth)`ï¼‰ã€‚
    *   **`login/page.tsx`**: ç™»å½•é¡µé¢ã€‚
    *   **`register/page.tsx`**: æ³¨å†Œé¡µé¢ã€‚
    *   **`layout.tsx`**: è®¤è¯é¡µé¢çš„ä¸“ç”¨å¸ƒå±€ã€‚
*   **`(dashboard)/`**: ä»ªè¡¨ç›˜ç›¸å…³è·¯ç”±ç»„ï¼ˆè·¯ç”±è·¯å¾„ä¸­ä¸åŒ…å« `(dashboard)`ï¼‰ã€‚
    *   **`dashboard/`**: æ‰€æœ‰éœ€è¦ç™»å½•çš„åŠŸèƒ½é¡µé¢ï¼ˆ`/dashboard/*` è·¯ç”±ï¼‰ã€‚
        *   **`page.tsx`**: ä»ªè¡¨ç›˜ä¸»é¡µ (`/dashboard`)
        *   **`community/`**: ç¤¾åŒºåŠŸèƒ½ (`/dashboard/community`)
        *   **`leaderboard/`**: æ’è¡Œæ¦œ (`/dashboard/leaderboard`)
        *   **`practice/`**: ç»ƒä¹ ä¸­å¿ƒ (`/dashboard/practice`) - æ­£åœ¨å¼€å‘ä¸­
        *   **`settings/`**: è®¾ç½®é¡µé¢ (`/dashboard/settings`)
    *   **`layout.tsx`**: ä»ªè¡¨ç›˜å¸ƒå±€ï¼ŒåŒ…å«ä¾§è¾¹æ å’Œé¡¶éƒ¨å¯¼èˆªï¼Œåº”ç”¨äºæ‰€æœ‰ `/dashboard/*` é¡µé¢ã€‚
*   **`course/[subjectId]/`**: è¯¾ç¨‹å­¦ä¹ é¡µé¢åŠ¨æ€è·¯ç”±ï¼Œæ ¹æ® `subjectId` åŠ è½½å¯¹åº”è¯¾ç¨‹å†…å®¹ã€‚
*   **`error-book/`**: é”™é¢˜æœ¬é¡µé¢ã€‚
*   **`api/`**: Next.js API Routesï¼Œç”¨äºå¤„ç†ç‰¹å®šåç«¯è¯·æ±‚ï¼ˆå¦‚å®šæ—¶ä»»åŠ¡ `cron`ï¼‰ã€‚

### `src/actions/` (Server Actions)
å°è£…äº†ä¸æ•°æ®åº“äº¤äº’çš„æœåŠ¡å™¨ç«¯æ“ä½œï¼Œç”¨äºåœ¨å®¢æˆ·ç«¯ç»„ä»¶ä¸­ç›´æ¥è°ƒç”¨ã€‚

*   **`auth.ts`**: ç”¨æˆ·è®¤è¯ç›¸å…³æ“ä½œã€‚
*   **`community.ts`**: ç¤¾åŒºå¸–å­ã€è¯„è®ºç›¸å…³æ“ä½œã€‚
*   **`dashboard.ts`**: ä»ªè¡¨ç›˜æ•°æ®è·å–æ“ä½œã€‚
*   **`error-book.ts`**: é”™é¢˜æœ¬å¢åˆ æ”¹æŸ¥æ“ä½œã€‚
*   **`leaderboard.ts`**: æ’è¡Œæ¦œæ•°æ®è·å–æ“ä½œã€‚
*   **`profile.ts`**: ç”¨æˆ·ä¸ªäººèµ„æ–™æ›´æ–°æ“ä½œã€‚
*   **`progress.ts`**: å­¦ä¹ è¿›åº¦è®°å½•ä¸æ›´æ–°æ“ä½œã€‚
*   **`quiz.ts`**: æµ‹éªŒæäº¤ä¸è¯„åˆ†é€»è¾‘æ“ä½œã€‚
*   **`storage.ts`**: æ–‡ä»¶ä¸Šä¼ ï¼ˆå¦‚å¤´åƒï¼‰ç›¸å…³æ“ä½œã€‚
*   **`subject.ts`**: å­¦ç§‘ä¸è¯¾ç¨‹ç›®å½•è·å–æ“ä½œã€‚
*   **`__tests__/`**: å¯¹åº” Server Actions çš„å•å…ƒæµ‹è¯•æ–‡ä»¶ã€‚

### `src/components/` (ç»„ä»¶åº“)

*   **`ui/`**: åŸºç¡€ UI ç»„ä»¶ï¼ˆä¸»è¦æ¥è‡ª shadcn/uiï¼‰ï¼Œå¦‚ Button, Card, Input, Dialog ç­‰ã€‚
*   **`business/`**: ä¸šåŠ¡ç»„ä»¶ï¼Œç‰¹å®šäºæœ¬é¡¹ç›®åŠŸèƒ½çš„ç»„ä»¶ã€‚
    *   **`AppSidebar.tsx`**: ä»ªè¡¨ç›˜ä¾§è¾¹æ ã€‚
    *   **`CourseTree.tsx`**: è¯¾ç¨‹ç›®å½•æ ‘å½¢ç»“æ„ç»„ä»¶ã€‚
    *   **`VideoPlayer.tsx` / `LessonVideoPlayer.tsx`**: è§†é¢‘æ’­æ”¾å™¨ç»„ä»¶ã€‚
    *   **`DailyInspiration.tsx`**: æ¯æ—¥åŠ±å¿—è¯­å½•ç»„ä»¶ã€‚
    *   **`charts/`**: æ•°æ®å¯è§†åŒ–å›¾è¡¨ç»„ä»¶ã€‚
    *   **`community/`**: è®ºå›/ç¤¾åŒºç›¸å…³ç»„ä»¶ã€‚
    *   **`question/`**: é¢˜ç›®å±•ç¤ºä¸äº¤äº’ç»„ä»¶ã€‚
    *   **`quiz/`**: æµ‹éªŒæ¨¡å¼ç›¸å…³ç»„ä»¶ã€‚
*   **`layout/`**: å¸ƒå±€ç›¸å…³ç»„ä»¶ï¼Œå¦‚ `LandingPageNavbar.tsx`ã€‚

### `src/lib/` (å·¥å…·åº“)

*   **`prisma.ts`**: Prisma Client å•ä¾‹å®ä¾‹ï¼Œç”¨äºæ•°æ®åº“è¿æ¥ã€‚
*   **`utils.ts`**: é€šç”¨å·¥å…·å‡½æ•°ï¼Œå¦‚ `cn` (class names) åˆå¹¶å·¥å…·ã€‚
*   **`supabase/`**: Supabase å®¢æˆ·ç«¯åˆå§‹åŒ–é…ç½®ï¼ˆåŒºåˆ†å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼‰ã€‚
*   **`store/`**: çŠ¶æ€ç®¡ç†ï¼ˆå¦‚ Zustand storesï¼‰ã€‚
    *   **`quiz-store.ts`**: æµ‹éªŒçŠ¶æ€ç®¡ç†ã€‚
*   **`hooks/`**: è‡ªå®šä¹‰ React Hooksã€‚
    *   `useDebounce.ts`: é˜²æŠ– Hook
    *   `usePullToRefresh.ts`: ä¸‹æ‹‰åˆ·æ–° Hook (ç§»åŠ¨ç«¯)
*   **`leaderboard/`**: æ’è¡Œæ¦œç›¸å…³çš„ç‰¹å®šé€»è¾‘é€‚é…å™¨ã€‚

### `src/types/` (ç±»å‹å®šä¹‰)
å­˜æ”¾ TypeScript ç±»å‹å®šä¹‰æ–‡ä»¶ï¼Œç”¨äºè·¨æ¨¡å—å…±äº«ç±»å‹ã€‚

## `middleware.ts` (Next.js ä¸­é—´ä»¶)

**ä½ç½®**: é¡¹ç›®æ ¹ç›®å½• `/middleware.ts` (ä¸åœ¨ src/ ç›®å½•ä¸‹)

**åŠŸèƒ½**: Next.js 13+ çš„å…¨å±€ä¸­é—´ä»¶ï¼Œå¤„ç†æ‰€æœ‰è¯·æ±‚æ‹¦æˆªå’Œè·¯ç”±ä¿æŠ¤ã€‚

**æ ¸å¿ƒåŠŸèƒ½**:
*   **Supabase Auth Cookie ç®¡ç†**: å®ç° 1 å°æ—¶æ»‘åŠ¨çª—å£æœºåˆ¶ï¼Œè‡ªåŠ¨åˆ·æ–°ç”¨æˆ·ä¼šè¯ã€‚
*   **Auth Guard (è·¯ç”±ä¿æŠ¤)**: æœªç™»å½•ç”¨æˆ·è®¿é—® `/dashboard/*` ä¼šè‡ªåŠ¨é‡å®šå‘åˆ° `/login`ã€‚
*   **Guest Guard (å·²ç™»å½•é‡å®šå‘)**: å·²ç™»å½•ç”¨æˆ·è®¿é—® `/login` æˆ– `/register` ä¼šè‡ªåŠ¨é‡å®šå‘åˆ° `/dashboard`ã€‚
*   **å®‰å…¨é…ç½®**:
    *   HttpOnly Cookie (é˜²æ­¢ XSS æ”»å‡»)
    *   Secure Cookie (ç”Ÿäº§ç¯å¢ƒå¼ºåˆ¶ HTTPS)
    *   SameSite=Lax (CSRF é˜²æŠ¤)

**åŒ¹é…è§„åˆ™**: é™¤é™æ€èµ„æºå¤–çš„æ‰€æœ‰è·¯å¾„ (é€šè¿‡ `config.matcher` é…ç½®)ã€‚

**é‡è¦**: æ­¤æ–‡ä»¶å¿…é¡»ä½äºé¡¹ç›®æ ¹ç›®å½•ï¼ŒNext.js æ‰èƒ½è¯†åˆ«å’Œæ‰§è¡Œã€‚

## `public/` (é™æ€èµ„æºç›®å½•)

Next.js çš„å…¬å…±é™æ€æ–‡ä»¶ç›®å½•ï¼Œæ‰€æœ‰æ–‡ä»¶å¯é€šè¿‡æ ¹è·¯å¾„ `/` ç›´æ¥è®¿é—®ã€‚

*   **`icons/`**: åº”ç”¨å›¾æ ‡é›†åˆï¼ŒåŒ…å«ä¸åŒå°ºå¯¸çš„ PWA å›¾æ ‡ã€‚
    *   `icon-72x72.png` ~ `icon-512x512.png`: ä¸åŒå°ºå¯¸å›¾æ ‡ï¼Œç”¨äº PWAã€æµè§ˆå™¨æ ‡ç­¾ã€ç§»åŠ¨ç«¯ä¸»å±å¹•ã€‚
    *   è®¿é—®æ–¹å¼: `https://yourdomain.com/icons/icon-192x192.png`
*   **`screenshots/`**: åº”ç”¨æˆªå›¾ç›®å½•ï¼Œç”¨äº PWA å®‰è£…é¢„è§ˆå’Œåº”ç”¨å•†åº—ç´ æã€‚
    *   å°ºå¯¸è¦æ±‚: å®½åº¦ 540px-1920pxï¼Œé«˜åº¦ 960px-3840pxï¼Œé•¿å®½æ¯” 9:16 æˆ– 16:9ã€‚
*   **`manifest.json`**: PWA (Progressive Web App) åº”ç”¨æ¸…å•ã€‚
    *   å®šä¹‰åº”ç”¨åç§°ã€å›¾æ ‡ã€å¯åŠ¨ç”»é¢ã€æ˜¾ç¤ºæ¨¡å¼ã€‚
    *   å…è®¸ç”¨æˆ·"æ·»åŠ åˆ°ä¸»å±å¹•"ï¼Œå®ç°ç±»åŸç”Ÿåº”ç”¨ä½“éªŒã€‚
*   **`offline.html`**: PWA ç¦»çº¿é¡µé¢ï¼Œå½“ç”¨æˆ·æ–­ç½‘æ—¶æ˜¾ç¤ºå‹å¥½æç¤ºã€‚
*   **`sw.js`**: Service Worker è„šæœ¬ï¼ŒPWA çš„æ ¸å¿ƒåŠŸèƒ½å®ç°ã€‚
    *   æä¾›ç¦»çº¿ç¼“å­˜ç­–ç•¥ (Cache-First / Network-First)ã€‚
    *   æ”¯æŒåå°åŒæ­¥ (Background Sync) å’Œæ¨é€é€šçŸ¥ (Push Notifications)ã€‚

**è®¿é—®ç¤ºä¾‹**:
```tsx
// åœ¨ Next.js ç»„ä»¶ä¸­ä½¿ç”¨ public ç›®å½•æ–‡ä»¶
import Image from 'next/image'

<Image
  src="/icons/icon-192x192.png"  // è‡ªåŠ¨æ˜ å°„åˆ° public/
  alt="LearnMore Logo"
  width={192}
  height={192}
/>
```

## `prisma/` (æ•°æ®åº“)

*   **`schema.prisma`**: Prisma Schema æ•°æ®åº“æ¨¡å‹å®šä¹‰æ–‡ä»¶ã€‚
    *   å®šä¹‰æ‰€æœ‰æ•°æ®è¡¨ç»“æ„ (User, Subject, Chapter, Lesson, Question, Post ç­‰)ã€‚
    *   å®šä¹‰è¡¨å…³ç³»ã€ç´¢å¼•ã€æšä¸¾ç±»å‹ã€‚
    *   è‡ªåŠ¨ç”Ÿæˆ TypeScript ç±»å‹å’Œ Prisma Clientã€‚
    *   **å•ä¸€æ•°æ®æºçœŸç›¸ (Single Source of Truth)**ï¼Œæ‰€æœ‰æ•°æ®åº“æ“ä½œå¿…é¡»é€šè¿‡æ­¤ Schemaã€‚
*   **`seed.ts`**: ä¸»ç§å­æ•°æ®è„šæœ¬ï¼Œç”¨äºåˆå§‹åŒ–å¼€å‘/æµ‹è¯•æ•°æ®ã€‚
    *   å¡«å……å†…å®¹:
        *   6 ä¸ªç§‘ç›® (æ•°å­¦ã€ç‰©ç†ã€åŒ–å­¦ã€è‹±è¯­ã€è¯­æ–‡ã€ç”Ÿç‰©)
        *   ç« èŠ‚æ ‘ (æ¯ä¸ªç§‘ç›® 4-6 ä¸ªç« èŠ‚ï¼Œæ”¯æŒå¤šçº§åµŒå¥—)
        *   è¯¾ç¨‹ (è§†é¢‘è¯¾ã€æ–‡æ¡£è¯¾ã€ç»ƒä¹ è¯¾)
        *   é¢˜åº“ (å•é€‰ã€å¤šé€‰ã€å¡«ç©ºã€ç®€ç­”é¢˜)
        *   æµ‹è¯•ç”¨æˆ· (student@test.com / teacher@test.com)
    *   æ‰§è¡Œå‘½ä»¤: `pnpm db:seed` æˆ– `npx prisma db seed`
*   **`seed-posts.ts`**: ç¤¾åŒºå¸–å­ç§å­æ•°æ®è„šæœ¬ã€‚
    *   ä¸ºç¤¾åŒºè®ºå›ç”Ÿæˆç¤ºä¾‹å¸–å­ã€è¯„è®ºã€å›å¤ã€‚
    *   ç”¨äºå¼€å‘ Phase 4 (Community åŠŸèƒ½) æ—¶æµ‹è¯•ä½¿ç”¨ã€‚
*   **`seed.test.ts`**: ç§å­æ•°æ®æµ‹è¯•æ–‡ä»¶ï¼ŒéªŒè¯æ•°æ®å¡«å……çš„å®Œæ•´æ€§å’Œæ­£ç¡®æ€§ã€‚

**Prisma å·¥ä½œæµç¨‹**:
```bash
# 1. æ¨é€ Schema åˆ°æ•°æ®åº“
npx prisma db push

# 2. ç”Ÿæˆ Prisma Client (TypeScript ç±»å‹)
npx prisma generate

# 3. å¡«å……ç§å­æ•°æ®
pnpm db:seed

# 4. æ‰“å¼€å¯è§†åŒ–æ•°æ®åº“ç®¡ç†ç•Œé¢
npx prisma studio
```

## `supabase/` (åç«¯æœåŠ¡)

*   **`migrations/`**: SQL è¿ç§»æ–‡ä»¶ï¼Œç”¨äºæ‰‹åŠ¨åº”ç”¨ä¸€äº› Prisma ä¸æ”¯æŒçš„ Supabase ç‰¹å®šé…ç½®ï¼ˆå¦‚ Storage Policies, Triggersï¼‰ã€‚
    *   `001_auth_trigger.sql`: ç”¨æˆ·æ³¨å†Œæ—¶è‡ªåŠ¨åˆ›å»º public.users è®°å½•çš„è§¦å‘å™¨ã€‚
    *   `002_storage_avatars.sql`: å¤´åƒå­˜å‚¨æ¡¶ç­–ç•¥ã€‚
    *   `003_storage_videos.sql`: è§†é¢‘å­˜å‚¨æ¡¶ç­–ç•¥ã€‚

## `docs/` (æ–‡æ¡£)

*   **`memory-bank/`**: **æ ¸å¿ƒè®°å¿†åº“**ï¼Œè®°å½•é¡¹ç›®çš„ä¸Šä¸‹æ–‡ã€éœ€æ±‚ã€æ¶æ„å’Œè¿›åº¦ï¼Œæ˜¯ AI ç»´æŠ¤é¡¹ç›®ä¸€è‡´æ€§çš„å…³é”®ã€‚
    *   `active_context.md`: å½“å‰å·¥ä½œä¸Šä¸‹æ–‡ã€‚
    *   `product_requirements.md`: äº§å“éœ€æ±‚æ–‡æ¡£ (PRD)ã€‚
    *   `tech_stack.md`: æŠ€æœ¯æ ˆè§„èŒƒã€‚
    *   `architecture.md`: ç³»ç»Ÿæ¶æ„è®¾è®¡ã€‚
    *   `progress.md`: å¼€å‘è¿›åº¦è¿½è¸ªã€‚
*   **`stories/`**: ç”¨æˆ·æ•…äº‹ï¼ˆéœ€æ±‚å¡ç‰‡ï¼‰ã€‚
    *   `completed/`: å·²å®Œæˆçš„æ•…äº‹ã€‚
    *   `active/`: æ­£åœ¨è¿›è¡Œçš„æ•…äº‹ã€‚
    *   `backlog/`: å¾…åŠæ•…äº‹ã€‚
*   **`api/`**: API æ¥å£æ–‡æ¡£è¯´æ˜ã€‚

## `scripts/` (æ•°æ®åº“ç»´æŠ¤è„šæœ¬)

å­˜æ”¾æ•°æ®åº“åˆå§‹åŒ–ã€ç»´æŠ¤å’ŒéªŒè¯è„šæœ¬ã€‚æ‰€æœ‰è„šæœ¬å‡ä½¿ç”¨ TypeScript/JavaScript ç¼–å†™ã€‚

*   **`apply-trigger.ts`**: æ•°æ®åº“è§¦å‘å™¨åº”ç”¨è„šæœ¬ã€‚
    *   åŠŸèƒ½: åœ¨ Supabase æ•°æ®åº“ä¸­åˆ›å»º PostgreSQL è§¦å‘å™¨ã€‚
    *   ä½œç”¨: å®ç° `auth.users` â†’ `public.users` çš„è‡ªåŠ¨åŒæ­¥ã€‚
    *   è§¦å‘é€»è¾‘: å½“ `auth.users` è¡¨æ’å…¥æ–°ç”¨æˆ·æ—¶ï¼Œè‡ªåŠ¨åœ¨ `public.users` åˆ›å»ºå¯¹åº”è®°å½•ã€‚
    *   ä½¿ç”¨åœºæ™¯: Story-003 Authentication System å®Œæˆåè¿è¡Œä¸€æ¬¡ã€‚
    *   æ‰§è¡Œå‘½ä»¤: `npx tsx scripts/apply-trigger.ts`

*   **`generate-placeholder-icons.js`**: å ä½å›¾æ ‡ç”Ÿæˆè„šæœ¬ã€‚
    *   åŠŸèƒ½: ä¸ºè¯¾ç¨‹ä¸»é¢˜ (Subject) ç”Ÿæˆ SVG å ä½å›¾æ ‡ã€‚
    *   ä½œç”¨: å¼€å‘é˜¶æ®µå¿«é€Ÿç”Ÿæˆå›¾æ ‡ï¼Œé¿å…ç¼ºå°‘å›¾æ ‡å¯¼è‡´ UI æ˜¾ç¤ºå¼‚å¸¸ã€‚
    *   åç»­ä¼˜åŒ–: å¯æ›¿æ¢ä¸ºè®¾è®¡å¸ˆæä¾›çš„çœŸå®å›¾æ ‡ã€‚
    *   æ‰§è¡Œå‘½ä»¤: `node scripts/generate-placeholder-icons.js`

*   **`seed-error-book.ts`**: é”™é¢˜æœ¬æ•°æ®å¡«å……è„šæœ¬ã€‚
    *   åŠŸèƒ½: ä¸ºæµ‹è¯•è´¦å·ç”Ÿæˆé”™é¢˜æœ¬ (ErrorBook) ç¤ºä¾‹æ•°æ®ã€‚
    *   ç”¨é€”: å¼€å‘ Story-013 é”™é¢˜æœ¬ç³»ç»Ÿæ—¶ä½¿ç”¨ã€‚
    *   ç”Ÿæˆå†…å®¹: ä¸åŒæŒæ¡åº¦ (masteryLevel 0-3) çš„é”™é¢˜è®°å½•ã€‚
    *   æµ‹è¯•åŠŸèƒ½: é”™é¢˜å¤ä¹ ã€æŒæ¡åº¦è¿½è¸ªã€é”™é¢˜ç»Ÿè®¡ã€‚
    *   æ‰§è¡Œå‘½ä»¤: `npx tsx scripts/seed-error-book.ts`

*   **`verify-seed.ts`**: æ•°æ®åº“éªŒè¯è„šæœ¬ã€‚
    *   åŠŸèƒ½: éªŒè¯ `pnpm db:seed` æ˜¯å¦æˆåŠŸæ‰§è¡Œã€‚
    *   æ£€æŸ¥å†…å®¹:
        *   6 ä¸ªç§‘ç›® (Subject) æ˜¯å¦åˆ›å»º
        *   æ¯ä¸ªç§‘ç›®çš„ç« èŠ‚ (Chapter) æ˜¯å¦å­˜åœ¨
        *   æ¯ä¸ªç« èŠ‚çš„è¯¾ç¨‹ (Lesson) æ˜¯å¦å­˜åœ¨
        *   é¢˜åº“ (Question) æ˜¯å¦æœ‰æ•°æ®
    *   è¾“å‡ºç¤ºä¾‹:
        ```
        âœ… Database seed verification passed!
        ğŸ“Š Summary:
        - Subjects: 6
        - Chapters: 24
        - Lessons: 72
        - Questions: 150
        ```
    *   æ‰§è¡Œå‘½ä»¤: `npx tsx scripts/verify-seed.ts`

**å…¸å‹å·¥ä½œæµç¨‹** (Story-002 å®Œæˆå):
```bash
# 1. åˆ›å»ºæ•°æ®åº“ç»“æ„
npx prisma migrate dev --name init

# 2. åº”ç”¨è§¦å‘å™¨
npx tsx scripts/apply-trigger.ts

# 3. å¡«å……ç§å­æ•°æ®
pnpm db:seed

# 4. éªŒè¯æ•°æ®å®Œæ•´æ€§
npx tsx scripts/verify-seed.ts

# 5. ç”Ÿæˆé”™é¢˜æœ¬æµ‹è¯•æ•°æ® (å¯é€‰)
npx tsx scripts/seed-error-book.ts
```

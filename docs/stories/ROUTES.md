# LearnMore v1.0 å®Œæ•´è·¯ç”±æ¸…å•

æœ¬æ–‡æ¡£è®°å½•äº†é¡¹ç›®ä¸­æ‰€æœ‰æœ‰æ•ˆçš„è·¯ç”±è·¯å¾„åŠå…¶åŠŸèƒ½è¯´æ˜ã€‚

**æœ€åæ›´æ–°**: 2026-01-13
**æ€»è·¯ç”±æ•°**: 24ä¸ª

---

## ğŸ“‚ è·¯ç”±ç»“æ„æ€»è§ˆ

```
LearnMore v1.0
â”œâ”€â”€ ğŸ  è¥é”€ä¸å…¬å…±é¡µé¢ (13ä¸ª)
â”œâ”€â”€ ğŸ” è®¤è¯é¡µé¢ (2ä¸ª)
â”œâ”€â”€ ğŸ“Š ç”¨æˆ·ä»ªè¡¨ç›˜ (7ä¸ª)
â””â”€â”€ ğŸ“š è¯¾ç¨‹å­¦ä¹  (2ä¸ª)
```

---

## ğŸ  è¥é”€ä¸å…¬å…±é¡µé¢ (13ä¸ª)

è¿™äº›é¡µé¢æ— éœ€ç™»å½•å³å¯è®¿é—®ï¼Œç”¨äºäº§å“å±•ç¤ºå’Œç”¨æˆ·è·å–ã€‚

| è·¯ç”± | é¡µé¢åç§° | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|---------|---------|------|
| `/` | Landing Page | `src/app/page.tsx` | é¦–é¡µ/è¥é”€é¡µé¢ï¼Œå±•ç¤ºäº§å“æ ¸å¿ƒä»·å€¼ |
| `/about-us` | å…³äºæˆ‘ä»¬ | `src/app/about-us/page.tsx` | å…¬å¸/å›¢é˜Ÿä»‹ç» |
| `/how-it-works` | å·¥ä½œåŸç† | `src/app/how-it-works/page.tsx` | äº§å“åŠŸèƒ½ä»‹ç»å’Œä½¿ç”¨æµç¨‹ |
| `/subjects` | è¯¾ç¨‹ä½“ç³» | `src/app/subjects/page.tsx` | 6å¤§å­¦ç§‘ä»‹ç» (æ•°ç†åŒ–è‹±è¯­ç”Ÿ) |
| `/pricing` | ä»·æ ¼æ–¹æ¡ˆ | `src/app/pricing/page.tsx` | è®¢é˜…è®¡åˆ’å’Œå®šä»· |
| `/success-stories` | æˆåŠŸæ¡ˆä¾‹ | `src/app/success-stories/page.tsx` | å­¦å‘˜æ•…äº‹å’Œä½¿ç”¨æ¡ˆä¾‹ |
| `/blog` | åšå®¢åˆ—è¡¨ | `src/app/blog/page.tsx` | æ•™è‚²èµ„è®¯å’Œå­¦ä¹ æŠ€å·§ |
| `/blog/[slug]` | åšå®¢è¯¦æƒ… | `src/app/blog/[slug]/page.tsx` | å•ç¯‡åšå®¢æ–‡ç«  (åŠ¨æ€è·¯ç”±) |
| `/study-guides` | å­¦ä¹ æŒ‡å— | `src/app/study-guides/page.tsx` | å­¦ä¹ æ–¹æ³•å’Œå¤‡è€ƒæŒ‡å— |
| `/student-care` | å­¦ç”Ÿå…³æ€€ | `src/app/student-care/page.tsx` | æ”¯æŒä¸­å¿ƒ/å¸¸è§é—®é¢˜ |
| `/contact` | è”ç³»æˆ‘ä»¬ | `src/app/contact/page.tsx` | è”ç³»æ–¹å¼å’Œåé¦ˆè¡¨å• |
| `/privacy` | éšç§æ”¿ç­– | `src/app/privacy/page.tsx` | éšç§ä¿æŠ¤æ”¿ç­– |
| `/terms` | æœåŠ¡æ¡æ¬¾ | `src/app/terms/page.tsx` | ç”¨æˆ·åè®®å’Œä½¿ç”¨æ¡æ¬¾ |

---

## ğŸ” è®¤è¯é¡µé¢ (2ä¸ª)

ä½¿ç”¨ Supabase Auth è¿›è¡Œç”¨æˆ·è®¤è¯ç®¡ç†ã€‚

| è·¯ç”± | é¡µé¢åç§° | æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
|------|---------|---------|------|
| `/login` | ç™»å½•é¡µ | `src/app/(auth)/login/page.tsx` | ç”¨æˆ·ç™»å½•è¡¨å• |
| `/register` | æ³¨å†Œé¡µ | `src/app/(auth)/register/page.tsx` | æ–°ç”¨æˆ·æ³¨å†Œè¡¨å• |

**ç‰¹æ®Šå¤„ç†**:
- å·²ç™»å½•ç”¨æˆ·è®¿é—®è¿™ä¸¤ä¸ªé¡µé¢ä¼šè¢«è‡ªåŠ¨é‡å®šå‘åˆ° `/dashboard`
- æ”¯æŒ `?redirectTo=` å‚æ•°ï¼Œç™»å½•åè·³å›åŸé¡µé¢

---

## ğŸ“Š ç”¨æˆ·ä»ªè¡¨ç›˜ (7ä¸ª)

éœ€è¦ç™»å½•æ‰èƒ½è®¿é—®ï¼Œæ‰€æœ‰è·¯ç”±ä»¥ `/dashboard` å¼€å¤´ã€‚

| è·¯ç”± | é¡µé¢åç§° | æ–‡ä»¶è·¯å¾„ | åŠŸèƒ½è¯´æ˜ |
|------|---------|---------|---------|
| `/dashboard` | ä¸»ä»ªè¡¨ç›˜ | `src/app/(dashboard)/dashboard/page.tsx` | æ•°æ®æ¦‚è§ˆã€å­¦ä¹ ç»Ÿè®¡ã€è¿‘æœŸæ´»åŠ¨ |
| `/dashboard/settings` | ç”¨æˆ·è®¾ç½® | `src/app/(dashboard)/dashboard/settings/page.tsx` | ä¸ªäººèµ„æ–™ã€å¤´åƒä¸Šä¼ ã€å¯†ç ä¿®æ”¹ |
| `/dashboard/leaderboard` | æ’è¡Œæ¦œ | `src/app/(dashboard)/dashboard/leaderboard/page.tsx` | å‘¨æ¦œ/æœˆæ¦œ/æ€»æ¦œï¼Œç«èµ›æ¦œå• |
| `/dashboard/community` | ç¤¾åŒºé¦–é¡µ | `src/app/(dashboard)/dashboard/community/page.tsx` | å¸–å­åˆ—è¡¨ã€è¯é¢˜åˆ†ç±» |
| `/dashboard/community/new` | å‘å¸ƒæ–°å¸– | `src/app/(dashboard)/dashboard/community/new/page.tsx` | åˆ›å»ºæ–°è®¨è®ºå¸–ï¼ˆæ”¯æŒå¯Œæ–‡æœ¬ï¼‰ |
| `/dashboard/community/[postId]` | å¸–å­è¯¦æƒ… | `src/app/(dashboard)/dashboard/community/[postId]/page.tsx` | å¸–å­å†…å®¹ã€è¯„è®ºäº’åŠ¨ (åŠ¨æ€è·¯ç”±) |
| `/dashboard/practice` | ç»ƒä¹ ä¸­å¿ƒ | `src/app/(dashboard)/dashboard/practice/page.tsx` | é¢˜åº“ç»ƒä¹ å’Œæµ‹éªŒ |

**å¸ƒå±€ç‰¹æ€§**:
- æ‰€æœ‰ `/dashboard/*` é¡µé¢å…±äº« `(dashboard)/layout.tsx` å¸ƒå±€
- åŒ…å«ä¾§è¾¹æ å¯¼èˆª (AppSidebar) å’Œé¡¶éƒ¨å¯¼èˆªæ 
- å“åº”å¼è®¾è®¡ï¼šæ¡Œé¢ç«¯æ˜¾ç¤ºä¾§è¾¹æ ï¼Œç§»åŠ¨ç«¯ä½¿ç”¨æŠ½å±‰èœå•

---

## ğŸ“š è¯¾ç¨‹å­¦ä¹  (2ä¸ª)

è¯¾ç¨‹æµè§ˆå’Œå­¦ä¹ åŠŸèƒ½ï¼Œæ”¯æŒè§†é¢‘æ’­æ”¾å’Œè¿›åº¦è¿½è¸ªã€‚

| è·¯ç”± | é¡µé¢åç§° | æ–‡ä»¶è·¯å¾„ | åŠŸèƒ½è¯´æ˜ |
|------|---------|---------|---------|
| `/course/[subjectId]` | è¯¾ç¨‹ç›®å½• | `src/app/course/[subjectId]/page.tsx` | æ˜¾ç¤ºç« èŠ‚æ ‘çŠ¶ç»“æ„ (åŠ¨æ€è·¯ç”±) |
| `/course/[subjectId]/[lessonId]` | è¯¾ç¨‹å­¦ä¹ é¡µ | `src/app/course/[subjectId]/[lessonId]/page.tsx` | è§†é¢‘æ’­æ”¾ã€æ–‡æ¡£é˜…è¯»ã€ç»ƒä¹ é¢˜ (åŠ¨æ€è·¯ç”±) |

**åŠ¨æ€å‚æ•°**:
- `[subjectId]`: å­¦ç§‘ID (ä¾‹: `math`, `physics`, `chemistry`, `english`, `chinese`, `biology`)
- `[lessonId]`: è¯¾ç¨‹ID (UUIDæ ¼å¼)

**åŠŸèƒ½ç‰¹æ€§**:
- è§†é¢‘è¿›åº¦è‡ªåŠ¨ä¿å­˜ (æ¯30ç§’)
- æ”¯æŒç« èŠ‚å¯¼èˆªå’Œå¿«é€Ÿè·³è½¬
- å­¦ä¹ è®°å½•åŒæ­¥åˆ°ç”¨æˆ·è¿›åº¦è¡¨

---


## ğŸ”’ è·¯ç”±ä¿æŠ¤ä¸ä¸­é—´ä»¶

### Middleware ä¿æŠ¤è§„åˆ™ (`middleware.ts`)

```typescript
// è·¯ç”±ä¿æŠ¤é€»è¾‘
æœªç™»å½• + è®¿é—® /dashboard/* â†’ é‡å®šå‘åˆ° /login?redirectTo={åŸè·¯å¾„}
å·²ç™»å½• + è®¿é—® /login æˆ– /register â†’ é‡å®šå‘åˆ° /dashboard
```

### å…¬å¼€è·¯ç”± (æ— éœ€ç™»å½•)

- æ‰€æœ‰è¥é”€é¡µé¢: `/`, `/about-us`, `/pricing`, `/blog/*` ç­‰
- è®¤è¯é¡µé¢: `/login`, `/register`
- æ³•å¾‹é¡µé¢: `/privacy`, `/terms`

### å—ä¿æŠ¤è·¯ç”± (éœ€è¦ç™»å½•)

- æ‰€æœ‰ä»ªè¡¨ç›˜é¡µé¢: `/dashboard/*`
- è¯¾ç¨‹å­¦ä¹ é¡µé¢: `/course/*`

### Session ç®¡ç†

- **æœ‰æ•ˆæœŸ**: 1å°æ—¶ (æ»‘åŠ¨çª—å£æœºåˆ¶)
- **Cookie**: HttpOnly, Secure (ç”Ÿäº§ç¯å¢ƒ), SameSite=Lax
- **åˆ·æ–°ç­–ç•¥**: æ¯æ¬¡è¯·æ±‚è‡ªåŠ¨å»¶é•¿æœ‰æ•ˆæœŸ

---

## ğŸ“Š è·¯ç”±ç»Ÿè®¡æ±‡æ€»

| åˆ†ç±» | æ•°é‡ | å®ŒæˆçŠ¶æ€ |
|------|------|---------|
| è¥é”€ä¸å…¬å…±é¡µé¢ | 13ä¸ª | âœ… å®Œæˆ |
| è®¤è¯é¡µé¢ | 2ä¸ª | âœ… å®Œæˆ |
| ç”¨æˆ·ä»ªè¡¨ç›˜ | 7ä¸ª | âœ… å®Œæˆ |
| è¯¾ç¨‹å­¦ä¹  | 2ä¸ª | âœ… å®Œæˆ |
| **æ€»è®¡** | **24ä¸ª** | - |

---

## ğŸ—‘ï¸ å·²ç§»é™¤çš„åŠŸèƒ½

ä»¥ä¸‹è·¯ç”±å·²åœ¨ 2026-01-13 è¢«ç§»é™¤ï¼š

1. **`/dashboard/practice/debug`** - å¼€å‘è°ƒè¯•å·¥å…·ï¼ˆå·²åˆ é™¤ï¼‰
2. **`/error-book`** - é”™é¢˜æœ¬åŠŸèƒ½ï¼ˆå·²åˆ é™¤ï¼‰

**ç§»é™¤åŸå› **: åŠŸèƒ½è§„åˆ’è°ƒæ•´ï¼Œæœªæ¥ç‰ˆæœ¬å¯èƒ½ä¼šé‡æ–°è®¾è®¡å®ç°ã€‚

---

## ğŸ—‚ï¸ æ–‡ä»¶ç»“æ„æ˜ å°„

### è·¯ç”±ç»„ (Route Groups)

é¡¹ç›®ä½¿ç”¨ Next.js è·¯ç”±ç»„åŠŸèƒ½æ¥ç»„ç»‡ä»£ç ï¼Œä½†ä¸å½±å“å®é™…URLï¼š

```
src/app/
â”œâ”€â”€ (auth)/          â† è·¯ç”±ç»„ï¼Œä¸å‡ºç°åœ¨URLä¸­
â”‚   â”œâ”€â”€ login/       â†’ å®é™…è·¯ç”±: /login
â”‚   â””â”€â”€ register/    â†’ å®é™…è·¯ç”±: /register
â”‚
â””â”€â”€ (dashboard)/     â† è·¯ç”±ç»„ï¼Œä¸å‡ºç°åœ¨URLä¸­
    â””â”€â”€ dashboard/   â†’ å®é™…è·¯ç”±: /dashboard/*
```

### å¸ƒå±€ç»§æ‰¿å…³ç³»

```
å…¨å±€å¸ƒå±€ (app/layout.tsx)
â”œâ”€â”€ è¥é”€é¡µé¢ (æ— é¢å¤–å¸ƒå±€)
â”œâ”€â”€ è®¤è¯å¸ƒå±€ (app/(auth)/layout.tsx)
â”‚   â”œâ”€â”€ /login
â”‚   â””â”€â”€ /register
â””â”€â”€ ä»ªè¡¨ç›˜å¸ƒå±€ (app/(dashboard)/layout.tsx)
    â””â”€â”€ /dashboard/*
```

---

## ğŸ“ ç»´æŠ¤æŒ‡å—

### æ–°å¢è·¯ç”±æ—¶çš„æ³¨æ„äº‹é¡¹

1. **å‘½åè§„èŒƒ**
   - ä½¿ç”¨å°å†™å­—æ¯ + è¿å­—ç¬¦: `practice-center`, `error-book`
   - åŠ¨æ€è·¯ç”±ä½¿ç”¨æ–¹æ‹¬å·: `[postId]`, `[lessonId]`

2. **æ–‡ä»¶ä½ç½®**
   - åŠŸèƒ½é¡µé¢æ”¾åœ¨ `(dashboard)/dashboard/` ä¸‹
   - è¥é”€é¡µé¢ç›´æ¥æ”¾åœ¨ `app/` æ ¹ç›®å½•
   - è®¤è¯é¡µé¢æ”¾åœ¨ `(auth)/` ä¸‹

3. **å¿…éœ€æ–‡ä»¶**
   - æ¯ä¸ªè·¯ç”±è‡³å°‘åŒ…å« `page.tsx`
   - å¯é€‰: `layout.tsx`, `loading.tsx`, `error.tsx`

4. **æ›´æ–°æ–‡æ¡£**
   - æ–°å¢è·¯ç”±åç«‹å³æ›´æ–°æœ¬æ–‡æ¡£
   - åŒæ­¥æ›´æ–° `docs/stories/é¡¹ç›®ç»“æ„&æ–‡ä»¶ä»‹ç».md`
   - å¦‚æœ‰Storyç›¸å…³ï¼Œæ›´æ–°å¯¹åº”Storyæ–‡ä»¶

### åˆ é™¤è·¯ç”±æ—¶çš„æ³¨æ„äº‹é¡¹

1. æ£€æŸ¥æ˜¯å¦æœ‰å…¶ä»–é¡µé¢é“¾æ¥åˆ°è¯¥è·¯ç”±
2. æœç´¢ä»£ç ä¸­çš„ç¡¬ç¼–ç è·¯å¾„: `href="/xxx"` æˆ– `redirect('/xxx')`
3. æ›´æ–°å¯¼èˆªèœå•ç»„ä»¶ (`AppSidebar.tsx`, `Navbar.tsx`)
4. æ›´æ–°æœ¬æ–‡æ¡£å’Œç›¸å…³Storyæ–‡ä»¶

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- **è·¯ç”±ç»“æ„è¯¦è§£**: `/ROUTE_STRUCTURE.md`
- **é¡¹ç›®ç»“æ„æ–‡æ¡£**: `/docs/stories/é¡¹ç›®ç»“æ„&æ–‡ä»¶ä»‹ç».md`
- **ä¸­é—´ä»¶é…ç½®**: `/middleware.ts`
- **è®¤è¯ç³»ç»Ÿ**: Story-003 Authentication System
- **ä»ªè¡¨ç›˜å¼€å‘**: Story-004 App Shell & Navigation

---

**ç»´æŠ¤è€…**: Claude Code
**æœ€åæ£€æŸ¥**: 2026-01-13
**çŠ¶æ€**: âœ… æ‰€æœ‰è·¯ç”±å·²éªŒè¯å¹¶è®°å½•
